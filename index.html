<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hokkaido Trip 2026</title>
    
    <!-- Tab Icon -->
    <link rel="icon" type="image/jpeg" href="./image_ec3041.jpg">
    
    <!-- Vue.js 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome (Icons) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts: Noto Sans TC -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'jp-gray-light': '#BEBEBE',
                        'jp-beige': '#DBD4C6',
                        'jp-gray-mid': '#999EA2',
                        'jp-gray-dark': '#93939B',
                        'jp-sage': '#A9B7AA',
                        'ice-blue': '#E3F2FD',
                        'ice-accent': '#81D4FA',
                    },
                    fontFamily: {
                        sans: ['Noto Sans TC', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #F0F2F5;
            -webkit-tap-highlight-color: transparent;
        }
        /* Èö±ËóèÊªæÂãïÊ¢ù‰ΩÜ‰øùÊåÅÂäüËÉΩ */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        /* È†ÅÈù¢ÂàáÊèõÊ∑°ÂÖ•ÂãïÁï´ */
        .fade-in {
            animation: fadeIn 0.4s ease-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Banner ÈÅÆÁΩ©ÔºöÊº∏Â±§ËÆìÁôΩËâ≤ÊñáÂ≠óÊõ¥Ê∏ÖÊ•ö */
        .banner-overlay {
            background: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0) 40%, rgba(0,0,0,0.6) 100%);
        }
    </style>
</head>
<body class="text-jp-gray-dark font-sans antialiased">

    <div id="app" class="max-w-md mx-auto bg-white min-h-screen shadow-2xl relative overflow-hidden flex flex-col">
        
        <!-- È†ÅÈ¶ñ Banner -->
        <header class="relative w-full shrink-0 h-[260px]">
            <div class="absolute inset-0 w-full h-full bg-gray-200 overflow-hidden">
                <!-- 
                   ‰ΩøÁî® image_ec3041.jpg (ÂêàÁÖßÊèíÁï´)
                   onerror: Ëã•Êâæ‰∏çÂà∞ÂúñÁâáÊ™îÔºåÊúÉÈ°ØÁ§∫ Unsplash È¢®ÊôØÂúñ‰ΩúÁÇ∫ÂÇôÊ°à
                -->
                <img src="./banner.jpg"
                     onerror="this.src='https://images.unsplash.com/photo-1548578709-32269a838573?q=80&w=1920&auto=format&fit=crop'"
                     alt="Hokkaido Header" 
                     class="w-full h-full object-cover object-center animate-fade-in">
                
                <div class="banner-overlay absolute inset-0 flex flex-col justify-end p-6">
                    <h1 class="text-3xl font-bold tracking-widest text-white drop-shadow-lg">HOKKAIDO</h1>
                    <p class="text-sm font-light tracking-wider mt-1 text-white/95 drop-shadow-md">2026.03.06 - 03.14</p>
                </div>
            </div>
        </header>

        <!-- ‰∏ªË¶ÅÂÖßÂÆπÂçÄ -->
        <main class="flex-1 overflow-y-auto no-scrollbar pb-24 bg-gray-50 relative -mt-6 rounded-t-3xl z-20 shadow-[0_-5px_15px_rgba(0,0,0,0.05)]">
            
            <!-- Tab 1: Ë°åÁ®ã (Itinerary) -->
            <div v-if="currentTab === 'itinerary'" class="p-6 fade-in pt-8">
                <h2 class="text-xl font-bold text-jp-gray-dark mb-4 flex items-center">
                    <i class="fa-solid fa-map-location-dot mr-2 text-jp-sage"></i> Ë°åÁ®ãÁ∏ΩË¶Ω
                </h2>

                <!-- Ëà™Áè≠Ë≥áË®ä -->
                <div class="bg-white rounded-2xl p-5 shadow-sm mb-6 border-l-4 border-jp-sage relative overflow-hidden">
                    <div class="absolute right-0 top-0 text-[100px] text-jp-sage opacity-5 -mr-4 -mt-4"><i class="fa-solid fa-plane-departure"></i></div>
                    <h3 class="font-bold text-lg mb-3 text-jp-gray-dark relative z-10">‚úàÔ∏è Ëà™Áè≠Ë≥áË®ä</h3>
                    <div class="space-y-4 text-sm relative z-10">
                        <div>
                            <span class="inline-block bg-jp-beige text-xs px-2 py-1 rounded text-gray-700 mb-1">ÂéªÁ®ã | Ê≥∞Ë∂äÊç∑ VZ570</span>
                            <div class="flex justify-between items-center">
                                <div><div class="font-bold text-xl">02:50</div><div class="text-gray-500 text-xs">TPE T1</div></div>
                                <div class="text-gray-300"><i class="fa-solid fa-arrow-right-long"></i></div>
                                <div class="text-right"><div class="font-bold text-xl">07:30</div><div class="text-gray-500 text-xs">CTS Êñ∞ÂçÉÊ≠≤</div></div>
                            </div>
                        </div>
                        <hr class="border-dashed border-gray-200">
                        <div>
                            <span class="inline-block bg-jp-gray-light text-xs px-2 py-1 rounded text-white mb-1">ÂõûÁ®ã | ÈÖ∑Ëà™ TR893</span>
                            <div class="flex justify-between items-center">
                                <div><div class="font-bold text-xl">18:40</div><div class="text-gray-500 text-xs">CTS Êñ∞ÂçÉÊ≠≤</div></div>
                                <div class="text-gray-300"><i class="fa-solid fa-arrow-right-long"></i></div>
                                <div class="text-right"><div class="font-bold text-xl">22:20</div><div class="text-gray-500 text-xs">TPE T1</div></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ÊØèÊó•Ë°åÁ®ãÂàóË°® -->
                <div class="space-y-8">
                    <div v-for="(day, index) in itinerary" :key="index" class="relative pl-4 border-l-2 border-jp-gray-light/50">
                        <!-- Êó•ÊúüÊ®ôË®ò -->
                        <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-white border-4 border-jp-sage"></div>
                        <div class="mb-4 pt-0.5">
                            <span class="text-xs font-bold text-jp-sage bg-ice-blue px-3 py-1 rounded-full shadow-sm">{{ day.date }}</span>
                            <h3 class="text-lg font-bold mt-2 text-gray-800 tracking-wide">{{ day.title }}</h3>
                        </div>

                        <!-- ÂñÆÊó•Á¥∞È†Ö -->
                        <div class="space-y-3">
                            <div v-for="(item, i_idx) in day.items" :key="i_idx" 
                                 class="bg-white p-4 rounded-xl shadow-[0_2px_8px_rgba(0,0,0,0.04)] hover:shadow-md transition-all duration-200 relative group">
                                <div class="flex items-start gap-3">
                                    <div class="text-2xl pt-0.5 w-8 text-center">{{ item.icon }}</div>
                                    <div class="flex-1">
                                        <div class="flex items-baseline justify-between">
                                            <span class="font-bold text-gray-700 text-base">{{ item.name }}</span>
                                            <span class="text-xs font-mono text-jp-sage bg-gray-50 px-1.5 py-0.5 rounded ml-2">{{ item.time }}</span>
                                        </div>
                                        
                                        <!-- ÂèØÁ∑®ËºØÂÇôË®ªÂçÄ -->
                                        <div class="text-sm text-gray-500 mt-2">
                                            <div v-if="!item.isEditing" @click="item.isEditing = true" class="cursor-pointer min-h-[20px] group/edit">
                                                <!-- Âú∞ÂùÄÈ°ØÁ§∫ -->
                                                <p v-if="item.address" class="text-xs text-jp-gray-mid mb-1 flex items-center">
                                                    <i class="fa-solid fa-location-dot mr-1.5 text-red-300"></i>{{ item.address }}
                                                </p>
                                                <!-- ÂÇôË®ªÈ°ØÁ§∫ -->
                                                <p v-if="item.note" class="whitespace-pre-line text-xs text-gray-600 bg-gray-50 p-2 rounded border border-transparent group-hover/edit:border-jp-sage/30 transition-colors">{{ item.note }}</p>
                                                <p v-else class="italic text-xs text-gray-300 pt-1">ÈªûÊìäÊñ∞Â¢ûÂÇôË®ª...</p>
                                            </div>
                                            <!-- Á∑®ËºØÊ®°Âºè -->
                                            <textarea v-else 
                                                v-model="item.note" 
                                                @blur="item.isEditing = false"
                                                class="w-full text-sm border border-jp-sage rounded p-2 focus:outline-none focus:ring-2 focus:ring-jp-sage/20 bg-white"
                                                rows="3"
                                                placeholder="Ëº∏ÂÖ•Á≠ÜË®òÊàñ‰øÆÊîπÁ¥∞ÁØÄ..."></textarea>
                                        </div>

                                        <!-- ÂäüËÉΩÊåâÈàï -->
                                        <div class="flex gap-2 mt-3">
                                            <a v-if="item.address" :href="'https://www.google.com/maps/search/?api=1&query=' + encodeURIComponent(item.address)" target="_blank" class="text-[10px] font-bold bg-jp-sage/10 text-jp-sage px-3 py-1.5 rounded-full hover:bg-jp-sage hover:text-white transition-colors flex items-center"><i class="fa-solid fa-map-location-dot mr-1"></i> Â∞éËà™</a>
                                            <a v-if="item.link" :href="item.link" target="_blank" class="text-[10px] font-bold bg-ice-blue text-blue-500 px-3 py-1.5 rounded-full hover:bg-blue-100 transition-colors flex items-center"><i class="fa-solid fa-link mr-1"></i> Ë≥áË®ä</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab 2: ÂøÖË≤∑Êé®Ëñ¶ (Must Buy) -->
            <div v-if="currentTab === 'mustbuy'" class="p-6 fade-in pt-8">
                <h2 class="text-xl font-bold text-jp-gray-dark mb-4 flex items-center">
                    <i class="fa-solid fa-thumbs-up mr-2 text-jp-sage"></i> ÂøÖË≤∑Êé®Ëñ¶
                </h2>
                
                <div class="space-y-6">
                    <div v-for="(region, rIdx) in mustBuyList" :key="rIdx">
                        <div class="flex items-center mb-3">
                            <span class="w-1.5 h-6 bg-jp-sage rounded-r-md mr-2"></span>
                            <h3 class="font-bold text-gray-700 text-lg">{{ region.area }}</h3>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-3">
                            <div v-for="(item, iIdx) in region.items" :key="iIdx" class="bg-white p-3 rounded-xl shadow-sm border border-gray-100 flex flex-col items-center text-center group hover:shadow-md transition-all">
                                <div class="w-10 h-10 rounded-full bg-ice-blue/30 flex items-center justify-center text-ice-accent mb-2 group-hover:scale-110 transition-transform">
                                    <i class="fa-solid fa-gift"></i>
                                </div>
                                <span class="text-sm font-medium text-gray-600">{{ item }}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab 3: Ë≥ºÁâ©Ê∏ÖÂñÆ (Shopping) -->
            <div v-if="currentTab === 'shopping'" class="p-6 fade-in pt-8">
                <h2 class="text-xl font-bold text-jp-gray-dark mb-4 flex items-center">
                    <i class="fa-solid fa-basket-shopping mr-2 text-jp-sage"></i> ÊàëÁöÑË≥ºÁâ©Ê∏ÖÂñÆ
                </h2>

                <!-- Êñ∞Â¢ûÂïÜÂìÅ -->
                <div class="bg-white p-4 rounded-2xl shadow-[0_4px_20px_rgba(0,0,0,0.05)] mb-6 sticky top-0 z-20">
                    <div class="flex gap-2 mb-3">
                        <div class="flex-1 bg-gray-50 rounded-xl px-3 py-2 flex items-center border border-transparent focus-within:border-jp-sage focus-within:bg-white transition-all">
                            <input v-model="newShopItem.name" type="text" placeholder="ÂïÜÂìÅÂêçÁ®±..." class="bg-transparent w-full text-sm outline-none">
                        </div>
                        <div class="w-20 bg-gray-50 rounded-xl px-3 py-2 flex items-center border border-transparent focus-within:border-jp-sage focus-within:bg-white transition-all">
                            <input v-model="newShopItem.qty" type="number" placeholder="Êï∏Èáè" class="bg-transparent w-full text-sm outline-none text-center">
                        </div>
                    </div>
                    <input v-model="newShopItem.note" type="text" placeholder="ÂÇôË®ª (ex: Ë¶ÅËóçËâ≤ÁöÑ)" class="w-full bg-gray-50 rounded-xl px-3 py-2 text-xs outline-none focus:bg-white focus:ring-1 focus:ring-jp-sage mb-3">
                    <button @click="addShopItem" class="w-full bg-jp-sage text-white py-3 rounded-xl text-sm font-bold shadow-md hover:shadow-lg active:scale-[0.98] transition-all flex items-center justify-center">
                        <i class="fa-solid fa-plus mr-2"></i> Âä†ÂÖ•Ê∏ÖÂñÆ
                    </button>
                </div>

                <!-- Ê∏ÖÂñÆÂàóË°® -->
                <div class="space-y-2 pb-10">
                    <div v-if="shoppingList.length === 0" class="flex flex-col items-center justify-center py-12 text-gray-300">
                        <div class="w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-3">
                            <i class="fa-solid fa-basket-shopping text-2xl"></i>
                        </div>
                        <p class="text-sm">ÁõÆÂâçÊ≤íÊúâË≥ºÁâ©‰ªªÂãô</p>
                    </div>

                    <div v-for="(item, index) in shoppingList" :key="index" 
                         class="group flex items-center bg-white p-3 rounded-xl shadow-sm border-l-4 transition-all duration-300"
                         :class="item.checked ? 'border-gray-200 opacity-50 bg-gray-50' : 'border-ice-accent hover:translate-x-1'">
                        
                        <div @click="toggleShopItem(index)" class="cursor-pointer mr-3 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors">
                            <i class="fa-regular fa-circle text-xl text-gray-300" v-if="!item.checked"></i>
                            <i class="fa-solid fa-circle-check text-xl text-jp-sage" v-else></i>
                        </div>
                        
                        <div class="flex-1">
                            <div class="flex justify-between items-center">
                                <span class="font-bold text-gray-700 text-sm" :class="{'line-through': item.checked}">{{ item.name }}</span>
                                <span class="text-[10px] bg-gray-100 px-2 py-0.5 rounded-full text-gray-500 font-mono">x{{ item.qty }}</span>
                            </div>
                            <p class="text-xs text-gray-400 mt-0.5" :class="{'line-through': item.checked}">{{ item.note }}</p>
                        </div>

                        <button @click="removeShopItem(index)" class="ml-2 w-8 h-8 flex items-center justify-center text-gray-300 hover:text-red-400 hover:bg-red-50 rounded-full transition-colors opacity-0 group-hover:opacity-100">
                            <i class="fa-solid fa-trash-can text-sm"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Tab 4: Â∑•ÂÖ∑ (Tools) -->
            <div v-if="currentTab === 'tools'" class="p-6 fade-in pt-8">
                <h2 class="text-xl font-bold text-jp-gray-dark mb-4 flex items-center">
                    <i class="fa-solid fa-toolbox mr-2 text-jp-sage"></i> ÂØ¶Áî®Â∑•ÂÖ∑
                </h2>

                <div class="grid grid-cols-2 gap-4 mb-6">
                    <!-- Google ÁøªË≠Ø -->
                    <a href="https://translate.google.com/?sl=ja&tl=zh-TW&op=translate" target="_blank"
                       class="bg-white p-4 rounded-2xl shadow-sm flex flex-col justify-between h-28 border border-gray-100 hover:shadow-md transition-all group">
                        <div class="w-10 h-10 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-lg mb-2 group-hover:scale-110 transition-transform">
                            <i class="fa-solid fa-language"></i>
                        </div>
                        <div>
                            <div class="font-bold text-gray-700 text-sm">Google ÁøªË≠Ø</div>
                            <div class="text-[10px] text-gray-400">‰∏≠Êó•‰∫íË≠Ø</div>
                        </div>
                    </a>

                    <!-- Â§©Ê∞£ Widget (ÈÄ£Áµê) -->
                    <a href="https://weathernews.jp/onebox/tenki/hokkaido/" target="_blank"
                       class="bg-gradient-to-br from-ice-blue to-white p-4 rounded-2xl shadow-sm flex flex-col justify-between h-28 border border-blue-100 hover:shadow-md transition-all group">
                        <div class="w-10 h-10 rounded-full bg-white text-ice-accent flex items-center justify-center text-lg mb-2 shadow-sm group-hover:rotate-12 transition-transform">
                            <i class="fa-solid fa-cloud-sun-rain"></i>
                        </div>
                        <div>
                            <div class="font-bold text-gray-700 text-sm">ÂåóÊµ∑ÈÅìÂ§©Ê∞£</div>
                            <div class="text-[10px] text-gray-400">WeatherNews</div>
                        </div>
                    </a>
                </div>

                <div class="space-y-4">
                    <!-- ÂåØÁéáË®àÁÆó -->
                    <div class="bg-white p-5 rounded-2xl shadow-sm border border-gray-100">
                        <div class="text-[10px] font-bold text-jp-sage uppercase tracking-wider mb-3">ÂåØÁéáÊèõÁÆó (0.22)</div>
                        <div class="flex flex-col gap-3">
                            <div class="flex items-center bg-gray-50 rounded-xl p-2 border focus-within:border-jp-sage transition-colors">
                                <span class="text-xs font-bold text-gray-400 w-10 text-center">JPY</span>
                                <input type="number" v-model="calc.jpy" @input="calcTwd" class="w-full bg-transparent text-right font-mono text-lg outline-none text-gray-700" placeholder="0">
                            </div>
                            <div class="flex justify-center -my-1"><i class="fa-solid fa-arrow-down text-gray-300 text-xs"></i></div>
                            <div class="flex items-center bg-ice-blue/20 rounded-xl p-2 border border-blue-100">
                                <span class="text-xs font-bold text-gray-400 w-10 text-center">TWD</span>
                                <div class="w-full text-right font-bold text-jp-sage font-mono text-lg">{{ calc.twd }}</div>
                            </div>
                        </div>
                    </div>

                    <!-- AA ÂàÜÂ∏≥ -->
                    <div class="bg-white p-5 rounded-2xl shadow-sm border border-gray-100">
                        <h3 class="font-bold text-gray-600 mb-3 text-sm flex items-center">
                            <i class="fa-solid fa-user-group mr-2 text-orange-400"></i> ÂàÜÂ∏≥Ë®àÁÆó
                        </h3>
                        <div class="flex gap-2 mb-4">
                            <div class="flex-1 relative">
                                <span class="absolute left-3 top-2.5 text-gray-400 text-xs">¬•</span>
                                <input v-model="aa.amount" type="number" placeholder="Á∏ΩÈáëÈ°ç" class="w-full bg-gray-50 rounded-xl pl-6 pr-3 py-2 text-sm outline-none focus:ring-1 focus:ring-orange-200">
                            </div>
                            <div class="w-24 relative">
                                <input v-model="aa.people" type="number" placeholder="‰∫∫Êï∏" class="w-full bg-gray-50 rounded-xl px-3 py-2 text-sm text-center outline-none focus:ring-1 focus:ring-orange-200">
                                <span class="absolute right-3 top-2.5 text-gray-400 text-xs"><i class="fa-solid fa-user"></i></span>
                            </div>
                        </div>
                        <div class="flex justify-between items-center bg-orange-50 p-3 rounded-xl border border-orange-100">
                            <span class="text-xs text-orange-800 font-medium">ÊØè‰∫∫Êáâ‰ªò</span>
                            <span class="font-bold text-orange-600 font-mono text-xl">{{ aaResult }} <span class="text-xs text-gray-400">ÂÜÜ</span></span>
                        </div>
                    </div>
                </div>
            </div>

        </main>

        <!-- Â∫ïÈÉ®Â∞éËà™Ê¨Ñ -->
        <nav class="absolute bottom-0 w-full bg-white/90 backdrop-blur-lg border-t border-gray-100 pb-safe z-50 rounded-t-2xl shadow-[0_-5px_20px_rgba(0,0,0,0.03)]">
            <div class="grid grid-cols-4 h-20 pb-2">
                <!-- 1. Ë°åÁ®ã -->
                <button @click="currentTab = 'itinerary'" 
                        class="flex flex-col items-center justify-center w-full h-full transition-all duration-300 group"
                        :class="currentTab === 'itinerary' ? 'text-jp-sage' : 'text-gray-300 hover:text-gray-400'">
                    <div class="mb-1 p-1.5 rounded-xl transition-all duration-300" :class="currentTab === 'itinerary' ? 'bg-jp-sage/10 -translate-y-1' : ''">
                        <i class="fa-solid fa-map-location-dot text-xl"></i>
                    </div>
                    <span class="text-[10px] font-medium tracking-wide">Ë°åÁ®ã</span>
                </button>
                
                <!-- 2. ÂøÖË≤∑Êé®Ëñ¶ -->
                <button @click="currentTab = 'mustbuy'" 
                        class="flex flex-col items-center justify-center w-full h-full transition-all duration-300 group"
                        :class="currentTab === 'mustbuy' ? 'text-jp-sage' : 'text-gray-300 hover:text-gray-400'">
                    <div class="mb-1 p-1.5 rounded-xl transition-all duration-300" :class="currentTab === 'mustbuy' ? 'bg-jp-sage/10 -translate-y-1' : ''">
                        <i class="fa-solid fa-thumbs-up text-xl"></i>
                    </div>
                    <span class="text-[10px] font-medium tracking-wide">ÂøÖË≤∑</span>
                </button>

                <!-- 3. Ë≥ºÁâ©Ê∏ÖÂñÆ -->
                <button @click="currentTab = 'shopping'" 
                        class="flex flex-col items-center justify-center w-full h-full transition-all duration-300 group"
                        :class="currentTab === 'shopping' ? 'text-jp-sage' : 'text-gray-300 hover:text-gray-400'">
                    <div class="mb-1 p-1.5 rounded-xl transition-all duration-300" :class="currentTab === 'shopping' ? 'bg-jp-sage/10 -translate-y-1' : ''">
                        <i class="fa-solid fa-basket-shopping text-xl"></i>
                    </div>
                    <span class="text-[10px] font-medium tracking-wide">Ë≥ºÁâ©</span>
                </button>

                <!-- 4. Â∑•ÂÖ∑ -->
                <button @click="currentTab = 'tools'" 
                        class="flex flex-col items-center justify-center w-full h-full transition-all duration-300 group"
                        :class="currentTab === 'tools' ? 'text-jp-sage' : 'text-gray-300 hover:text-gray-400'">
                    <div class="mb-1 p-1.5 rounded-xl transition-all duration-300" :class="currentTab === 'tools' ? 'bg-jp-sage/10 -translate-y-1' : ''">
                        <i class="fa-solid fa-toolbox text-xl"></i>
                    </div>
                    <span class="text-[10px] font-medium tracking-wide">Â∑•ÂÖ∑</span>
                </button>
            </div>
        </nav>

    </div>

    <script>
        const { createApp, ref, computed, onMounted } = Vue;

        createApp({
            setup() {
                const currentTab = ref('itinerary');

                // Ë°åÁ®ãË≥áÊñô (Âê´Âú∞ÂùÄ„ÄÅÂúñÁ§∫)
                const itinerary = ref([
                    {
                        date: '3/06 (‰∫î)',
                        title: 'Êñ∞ÂçÉÊ≠≤ ‚ûî ÊòüÈáéÂ∫¶ÂÅáÊùë',
                        items: [
                            { time: '07:30', name: 'ÊäµÈÅîÊñ∞ÂçÉÊ≠≤Ê©üÂ†¥', icon: 'üõ¨' },
                            { time: '08:45', name: 'ÂåÖËªäÂá∫Áôº', icon: 'üöå', note: 'ÂâçÂæÄÊòüÈáéÂ∫¶ÂÅáÊùë' },
                            { time: '11:00', name: 'ÈúßÂÜ∞Âπ≥Âè∞ & KUMO Cafe', icon: 'üö†', address: 'ÂåóÊµ∑ÈÅìÂãáÊâïÈÉ°Âç†ÂÜ†Êùë‰∏≠„Éà„Éû„É†', note: 'Èõ≤Êµ∑Á∫úËªä 09:00-15:30, Ë≤ªÁî®2500ÂÜÜ' },
                            { time: '13:00', name: 'Snow Kart Èõ™‰∏äÂç°‰∏ÅËªä', icon: 'üèéÔ∏è', note: 'Ë≤ªÁî® 3500ÂÜÜ, ÈúÄÈ†êÁ¥Ñ' },
                            { time: '15:00', name: 'Check-in: ÊòüÈáé The Tower', icon: 'üè®', address: '„Äí079-2204 ÂåóÊµ∑ÈÅìÂãáÊâïÈÉ°Âç†ÂÜ†Êùë‰∏≠„Éà„Éû„É†' },
                            { time: '17:00', name: 'ÊôöÈ§ê: Forest Restaurant', icon: 'üçΩÔ∏è', note: 'Ë≤ªÁî® 5500ÂÜÜ' },
                            { time: '19:00', name: 'ÊÑõÁµ≤ÂÜ∞Âüé', icon: '‚ùÑÔ∏è', note: 'ÂÖ•Â†¥ 600ÂÜÜ, ÈñãÊîæËá≥ 22:00' }
                        ]
                    },
                    {
                        date: '3/07 (ÂÖ≠)',
                        title: 'ÊòüÈáé ‚ûî ÂÆöÂ±±Ê∫™ ‚ûî Êú≠Âπå',
                        items: [
                            { time: '08:00', name: 'È£ØÂ∫óÊó©È§ê', icon: 'ü•û' },
                            { time: '08:45', name: 'ÂåÖËªäÂá∫Áôº', icon: 'üöå' },
                            { time: '11:30', name: 'ÂÆöÂ±±Ê∫™Ê≥õËàü', icon: 'üö£', address: '„Äí061-2303 ÂåóÊµ∑ÈÅìÊú≠ÂπåÂ∏ÇÂçóÂå∫ÂÆöÂ±±Ê∏ìÊ∏©Ê≥âË•øÔºî‰∏ÅÁõÆ371-4', note: 'Ê¥ªÂãï2Â∞èÊôÇ, Ë≤ªÁî® 9500ÂÜÜ' },
                            { time: '15:00', name: 'Check-in: Vessel Inn ‰∏≠Â≥∂ÂÖ¨Âúí', icon: 'üè®', address: '„Äí064-0809 ÂåóÊµ∑ÈÅìÊú≠ÂπåÂ∏Ç‰∏≠Â§ÆÂçÄÂçó‰πùÊ¢ùË•ø4-1-2' },
                            { time: '18:00', name: 'ÊôöÈ§ê: ÊàêÂêâÊÄùÊ±óÁÉ§ÁæäËÇâ', icon: 'üçñ' }
                        ]
                    },
                    {
                        date: '3/08 (Êó•)',
                        title: 'Êú≠Âπå ‚ûî ÁôªÂà•/Ê¥ûÁà∫ ‚ûî ÂáΩÈ§®',
                        items: [
                            { time: '08:30', name: 'ÂåÖËªäÂá∫Áôº', icon: 'üöå' },
                            { time: '10:30', name: 'ÁôªÂà•Âú∞ÁçÑË∞∑', icon: '‚ô®Ô∏è', address: 'Noboribetsu Onsencho, Noboribetsu, Hokkaido' },
                            { time: '13:00', name: 'Ê¥ûÁà∫Êπñ', icon: 'üóª', address: 'Toyako, Hokkaido' },
                            { time: '17:00', name: 'Check-in: OMO5 ÂáΩÈ§®', icon: 'üè®', address: '„Äí040-0063 ÂåóÊµ∑ÈÅìÂáΩÈ§®Â∏ÇËã•ÊùæÁî∫24Áï™1' }
                        ]
                    },
                    {
                        date: '3/09 (‰∏Ä)',
                        title: 'ÂáΩÈ§®‰∏ÄÊó•ÈÅä',
                        items: [
                            { time: '07:00', name: 'ÂáΩÈ§®ÊúùÂ∏Ç', icon: 'üêü', address: 'Hakodate Morning Market', note: 'Âª∫Ë≠∞Êó©Ëµ∑ÂêÉÊµ∑ÈÆÆ‰∏º' },
                            { time: '10:00', name: '‰∫îÁ®úÈÉ≠ÂÖ¨Âúí & Â°î', icon: '‚≠ê', address: 'Goryokaku Park', note: 'Êê≠Â∏ÇÈõªÁ¥Ñ30ÂàÜÈêò' },
                            { time: '13:00', name: 'ÈáëÊ£ÆÁ¥ÖÁ£öÂÄâÂ∫´', icon: 'üß±', address: 'Kanemori Red Brick Warehouse' },
                            { time: '15:00', name: 'ÂÖÉÁî∫ÊïôÊúÉÁæ§ & ÂÖ´Âπ°ÂùÇ', icon: '‚õ™', address: 'Hachiman-zaka Slope' },
                            { time: '18:00', name: 'ÂáΩÈ§®Â±±Â§úÊôØ', icon: 'üåÉ', address: 'Mt. Hakodate Ropeway', note: 'ÁôæËê¨Â§úÊôØ (Êê≠Á∫úËªä/Â∑¥Â£´)' }
                        ]
                    },
                    {
                        date: '3/10 (‰∫å)',
                        title: 'ÂáΩÈ§® ‚ûî Êú≠Âπå',
                        items: [
                            { time: '09:00', name: 'Êê≠‰πò JRÁâπÊÄ•ÂåóÊñóËôü', icon: 'üöÑ', note: 'ËªäÁ®ãÁ¥Ñ4Â∞èÊôÇ, Ë≤ªÁî® 9440ÂÜÜ' },
                            { time: '15:00', name: 'Check-in: Royal Park Canvas', icon: 'üè®', address: '„Äí060-0042 Êú≠ÂπåÂ∏Ç‰∏≠Â§ÆÂå∫Â§ßÈÄöË•ø1-12' },
                            { time: 'Evening', name: 'Â§ßÈÄöÂÖ¨ÂúíÊï£Á≠ñ', icon: 'üå≥' }
                        ]
                    },
                    {
                        date: '3/11 (‰∏â)',
                        title: 'Â∞èÊ®ΩÊï£Á≠ñ',
                        items: [
                            { time: '10:00', name: 'ÂâçÂæÄÂ∞èÊ®Ω', icon: 'üöÉ', note: 'JR Âø´ÈÄü Airport' },
                            { time: '11:00', name: 'Â∞èÊ®ΩÈÅãÊ≤≥', icon: 'üì∏', address: 'Otaru Canal' },
                            { time: '13:00', name: 'Â†∫Áî∫ÈÄöÂïÜÂ∫óË°ó', icon: 'üõçÔ∏è', note: 'ÂÖ≠Ëä±‰∫≠„ÄÅÂåóÊûúÊ®ì„ÄÅLeTAO' }
                        ]
                    },
                    {
                        date: '3/12 (Âõõ)',
                        title: 'Êó≠Â±±ÂãïÁâ©Âúí‰∏ÄÊó•ÈÅä',
                        items: [
                            { time: '07:40', name: 'ÈõÜÂêà: Â§ßÈÄöÂú∞ÈêµÁ´ô 31ËôüÈñÄ', icon: 'üöå', address: 'Odori Station Exit 31', note: 'Ë´ãÂãøÈÅ≤Âà∞' },
                            { time: '10:30', name: 'Êó≠Â±±ÂãïÁâ©Âúí', icon: 'üêß', note: '‰ºÅÈµùÊï£Ê≠•„ÄÅÂåóÊ•µÁÜä' },
                            { time: '18:00', name: 'ËøîÂõûÊú≠Âπå', icon: 'üöå' }
                        ]
                    },
                    {
                        date: '3/13 (‰∫î)',
                        title: 'Êú≠ÂπåÂ∏ÇÂçÄ / Ëá™Áî±Ê¥ªÂãï',
                        items: [
                            { time: 'All Day', name: 'Ëá™Áî±Êé¢Á¥¢', icon: 'üë£', note: 'Áã∏Â∞èË∑ØË≥ºÁâ©„ÄÅÂåóÊµ∑ÈÅìÁ•ûÂÆÆ' }
                        ]
                    },
                    {
                        date: '3/14 (ÂÖ≠)',
                        title: 'ÂõûÂúãÊó•',
                        items: [
                            { time: '11:00', name: 'ÂâçÂæÄÊñ∞ÂçÉÊ≠≤Ê©üÂ†¥', icon: 'üöÑ' },
                            { time: '12:00', name: 'ÂúãÂÖßÁ∑ö 2F Êé°Ë≥º', icon: 'üõçÔ∏è', note: 'ÊúÄÂæåË°ùÂà∫' },
                            { time: '14:40', name: 'CI131 Ëµ∑È£õ', icon: 'üõ´', note: 'Êàñ JX851(15:20) / TR893(18:40)' }
                        ]
                    }
                ]);

                // ÂøÖË≤∑Êé®Ëñ¶ (ÊåâÂçÄÂüüÂàÜÈ°û)
                const mustBuyList = ref([
                    { area: 'Â∞èÊ®Ω Otaru', items: ['ÂÖ≠Ëä±‰∫≠ ËêäÂßÜËë°ËêÑÂ§æÂøÉ', 'ÂåóÊûúÊ®ì Â¶ñÁ≤æ‰πãÊ£ÆÂπ¥Ëº™ËõãÁ≥ï', 'LeTAO ÈõôÂ±§‰π≥ÈÖ™ËõãÁ≥ï', 'Èü≥Ê®ÇÁõí'] },
                    { area: 'Êú≠Âπå Sapporo', items: ['Êú≠ÂπåËæ≤Â≠∏Ê†° ÁâõÂ•∂È§Ö‰πæ', 'ÁôΩËâ≤ÊàÄ‰∫∫', '‰ΩêËó§Ê∞¥Áî¢ ÈÆ≠È≠ö', 'Kinotoya Ëµ∑Âè∏Â°î'] },
                    { area: 'ÂáΩÈ§® Hakodate', items: ['Pastry Snaffle‚Äôs Ëµ∑Âè∏ËõãÁ≥ï', 'ÁÉèË≥äÈ£Ø', 'ÊòÜÂ∏ÉÁî¢ÂìÅ'] },
                    { area: 'Ë∂ÖÂïÜ/Ëó•Â¶ù', items: ['ÂåóÊµ∑ÈÅìÈôêÂÆö ËóçËâ≤Âï§ÈÖí', 'Seicomart ÂìàÂØÜÁìúÂÜ∞Ê∑áÊ∑ã', '‰ºëË∂≥ÊôÇÈñì', 'Â§ßÊ≠£ÊÑüÂÜíËó•'] }
                ]);

                // Ë≥ºÁâ©Ê∏ÖÂñÆÂäüËÉΩ
                const shoppingList = ref([]);
                const newShopItem = ref({ name: '', qty: 1, note: '' });

                const addShopItem = () => {
                    if (newShopItem.value.name.trim()) {
                        shoppingList.value.push({ ...newShopItem.value, checked: false });
                        newShopItem.value = { name: '', qty: 1, note: '' };
                        saveShoppingList();
                    }
                };

                const removeShopItem = (index) => {
                    shoppingList.value.splice(index, 1);
                    saveShoppingList();
                };

                const toggleShopItem = (index) => {
                    shoppingList.value[index].checked = !shoppingList.value[index].checked;
                    saveShoppingList();
                };

                const saveShoppingList = () => {
                    localStorage.setItem('hokkaido_shopping_list', JSON.stringify(shoppingList.value));
                };

                // Â∑•ÂÖ∑ÔºöÂåØÁéá & ÂàÜÂ∏≥
                const calc = ref({ jpy: '', twd: 0 });
                const calcTwd = () => {
                    if(calc.value.jpy) {
                        calc.value.twd = (calc.value.jpy * 0.22).toFixed(0); // ÂåØÁéáÂèØÂú®Ê≠§Ë™øÊï¥
                    } else {
                        calc.value.twd = 0;
                    }
                };

                const aa = ref({ amount: '', people: '' });
                const aaResult = computed(() => {
                    if (aa.value.amount && aa.value.people > 0) {
                        return Math.ceil(aa.value.amount / aa.value.people);
                    }
                    return 0;
                });

                onMounted(() => {
                    const savedList = localStorage.getItem('hokkaido_shopping_list');
                    if (savedList) {
                        shoppingList.value = JSON.parse(savedList);
                    }
                });

                return {
                    currentTab,
                    itinerary,
                    mustBuyList,
                    shoppingList,
                    newShopItem,
                    addShopItem,
                    removeShopItem,
                    toggleShopItem,
                    calc,
                    calcTwd,
                    aa,
                    aaResult
                };
            }
        }).mount('#app');
    </script>
</body>
</html>